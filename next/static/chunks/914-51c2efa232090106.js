(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{1216:function(e,t,s){"use strict";var i=s(4836);t.Z=void 0;var a=i(s(4938)),r=s(5893);t.Z=(0,a.default)((0,r.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList")},7397:function(e,t,s){"use strict";var i=s(4836);t.Z=void 0;var a=i(s(4938)),r=s(5893);t.Z=(0,a.default)((0,r.jsx)("path",{d:"M10.83 8H21V6H8.83zm5 5H18v-2h-4.17zM14 16.83V18h-4v-2h3.17l-3-3H6v-2h2.17l-3-3H3V6h.17L1.39 4.22 2.8 2.81l18.38 18.38-1.41 1.41z"}),"FilterListOff")},5877:function(e,t,s){"use strict";var i=s(4836);t.Z=void 0;var a=i(s(4938)),r=s(5893);t.Z=(0,a.default)((0,r.jsx)("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"}),"Sort")},5914:function(e,t,s){"use strict";s.d(t,{w_:function(){return j},yC:function(){return el},Lb:function(){return e_},JL:function(){return T},JA:function(){return ek},j8:function(){return o},l3:function(){return eZ},bp:function(){return eW},U0:function(){return S},UI:function(){return eh},C2:function(){return eU},_o:function(){return eJ},Ko:function(){return eS}});var i=s(5893),a=s(7500),r=s(1883),n=s.n(r),o=()=>(0,i.jsxs)("div",{className:n()["four04-parent"],children:[(0,i.jsx)(a.l2,{}),(0,i.jsx)("main",{className:n().four04,children:(0,i.jsx)("div",{className:n().four04__container,children:(0,i.jsx)("h1",{children:"Page not found!"})})}),(0,i.jsx)(a.$_,{})]}),l=s(7807),c=s(3400),d=s(7294);let u=(e,t)=>{sessionStorage.setItem(e,t)},h=e=>sessionStorage.getItem(e)||"";var m=s(1070),p=s(7963),v=s(3947);let x=async(e,t)=>{let s="".concat(m.J,"/user"),i=await (0,p.v_)(s,t,{Authorization:e});return await (0,v.U)({res:i,errMsg:"Failed to update user details"})};var y=s(2696),j=()=>{let{setLoading:e,setLoadingText:t}=(0,c.d)(),[s,r]=d.useState("error"),[n,o]=d.useState(""),[m,p]=d.useState(!1),[v,j]=d.useState(),g=async s=>{if(e(!0),t("Submitting user details..."),!(null==s?void 0:s.firstName)||!(null==s?void 0:s.lastName)){o("User's first and last name cannot be blank"),r("error"),p(!0),e(!1);return}if(!v||!(null==v?void 0:v.token)){o("Could not submit details"),r("error"),p(!0),e(!1);return}if((await x(v.token,{id:v.user.id,firstName:s.firstName,lastName:s.lastName})).ok&&(o("Updated details successfully"),r("success"),p(!0),h(l.R1.user.session)?JSON.parse(h(l.R1.user.session)):void 0)){let e={...v,user:{...v.user,firstName:s.firstName,lastName:s.lastName}};j(e),u(l.R1.user.session,JSON.stringify(e))}e(!1)};return d.useEffect(()=>{t("Getting user session");let e=sessionStorage.getItem(l.R1.user.session);e&&j(JSON.parse(e))},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.FN,{type:s,message:n,display:m,setDisplay:p}),!(null==v?void 0:v.user.adminId)&&!(null==v?void 0:v.user.tutorId)&&!(null==v?void 0:v.user.customerId)&&(0,i.jsx)(a.Kb,{}),(0,i.jsx)(a.l2,{}),void 0!==v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.SF,{session:v,view:y.G.account}),(0,i.jsx)(a.IB,{session:v,handleSubmit:g})]})]})},g=s(3662),f=s(1163);let b=async(e,t)=>{let s="".concat(m.J,"/tutor?id=").concat(e),i=t?await (0,p.U2)(s,{Authorization:t}):await (0,p.U2)(s);return await (0,v.U)({res:i,errMsg:"Failed to get tutor"})},w=async(e,t)=>{let s="".concat(m.J,"/tutor"),i=await (0,p.v_)(s,t,{Authorization:e});return await (0,v.U)({res:i,errMsg:"Failed to get tutor"})},_=async(e,t,s)=>{let i="".concat(m.J,"/tutor?id=").concat(e),a=await (0,p.gz)(i,s,{Authorization:t});return await (0,v.U)({res:a,errMsg:"Failed to get tutor"})};var S=()=>{let e=(0,f.useRouter)(),{setLoading:t,setLoadingText:s}=(0,c.d)(),[r,n]=d.useState("error"),[o,u]=d.useState(""),[h,m]=d.useState(!1),[p,v]=d.useState(),[x,j]=d.useState(),S=d.useCallback(async()=>{if(null==p?void 0:p.user.tutorId){t(!0),s("Fetching tutor details");let a=await b(p.user.tutorId,p.token);if(!a.ok){var i;let s=null===(i=a.error)||void 0===i?void 0:i.message;n("error"),u(null!=s?s:"Failed to fetch tutor details"),m(!0),t(!1),console.log(s),(null==s?void 0:s.toLowerCase().includes("unauthorized"))&&(sessionStorage.removeItem(l.R1.user.session),e.push(g.Z.client.signIn));return}a.ok&&j(a.data.tutor),t(!1)}},[null==p?void 0:p.token,null==p?void 0:p.user.tutorId,e,t,s]),C=async s=>{try{let r=await w(null==p?void 0:p.token,{email:null==p?void 0:p.user.email,...s});if(r.ok)j(r.data.tutor),u("Updated details successfully, you will now be signed out to complete your account setup"),n("success"),m(!0),sessionStorage.removeItem(l.R1.user.session),e.push(g.Z.client.home);else{var i,a;u(null!==(a=null===(i=r.error)||void 0===i?void 0:i.message)&&void 0!==a?a:"Failed to create tutor details"),n("error"),m(!0)}t(!1)}catch(e){u("Failed to create tutor details"),n("error"),m(!0)}},N=async e=>{try{let r=await _(null==x?void 0:x.id,null==p?void 0:p.token,{id:null==x?void 0:x.id,...e});if(r.ok)s("Updated details successfully"),setTimeout(()=>{window.location.reload()},1e3);else{var i,a;u(null!==(a=null===(i=r.error)||void 0===i?void 0:i.message)&&void 0!==a?a:"Failed to update details"),n("error"),m(!0),t(!1)}}catch(e){u("Failed to update details"),n("error"),m(!0),t(!1)}},k=async e=>{if(t(!0),s("Submitting tutor details..."),!p||!(null==p?void 0:p.token)){u("No active session found, please try logging in again"),n("error"),m(!0),t(!1);return}(null==x?void 0:x.id)?await N(e):await C(e)};return d.useEffect(()=>{s("Getting user session...");let e=sessionStorage.getItem(l.R1.user.session);e&&v(JSON.parse(e))},[s]),d.useEffect(()=>{x||S()},[S,p,x]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.FN,{type:r,message:o,display:h,setDisplay:m}),(0,i.jsx)(a.l2,{}),void 0!==p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.SF,{session:p,view:y.G.profile}),(0,i.jsx)(a.r8,{session:p,profile:x,handleSubmit:k})]})]})},C=s(1903),N=s(9403),k=s(2872),A=s.n(k),T=()=>{let e=async()=>{if(!t||!c||!x||!w){t||(l("Email address can't be blank"),n(!0)),c||(v("First name can't be blank"),m(!0)),x||(b("Last name can't be blank"),g(!0)),w||(D("Message can't be blank"),k(!0));return}if(w.length>800){D("Message can't be more than ".concat(800," characters")),k(!0);return}M(!0),E("");let e=await (0,N.UM)({email:t,firstName:c,lastName:x,message:w});if(e.ok)R(!0);else{var s,i;E("Failed to send message, ".concat(null!==(i=null===(s=e.error)||void 0===s?void 0:s.message.toLowerCase())&&void 0!==i?i:"please try again later"))}setTimeout(()=>{M(!1),R(!1)},2e3)},[t,s]=(0,d.useState)(""),[r,n]=(0,d.useState)(!1),[o,l]=(0,d.useState)(""),[c,u]=(0,d.useState)(""),[h,m]=(0,d.useState)(!1),[p,v]=(0,d.useState)(""),[x,y]=(0,d.useState)(""),[j,g]=(0,d.useState)(!1),[f,b]=(0,d.useState)(""),[w,_]=(0,d.useState)(""),[S,k]=(0,d.useState)(!1),[T,D]=(0,d.useState)(""),[F,M]=(0,d.useState)(!1),[P,R]=(0,d.useState)(!1),[I,E]=(0,d.useState)("");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l2,{}),(0,i.jsxs)("main",{className:A().contact,children:[(0,i.jsx)("div",{children:(0,i.jsx)("h2",{className:A().contactHeader,children:"Send us a message"})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:A().contactRow,children:[(0,i.jsx)("div",{className:A().contactFirstColumn,children:(0,i.jsx)(C.Z,{label:"First name",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>{u(e.target.value)},onClick:()=>{v(""),m(!1)},error:h,helperText:p})}),(0,i.jsx)("div",{className:A().contactSecondColumn,children:(0,i.jsx)(C.Z,{label:"Last name",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>{y(e.target.value)},onClick:()=>{b(""),g(!1)},error:j,helperText:f})})]}),(0,i.jsx)("div",{className:A().contactRow,children:(0,i.jsx)(C.Z,{label:"Email",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>{s(e.target.value)},onClick:()=>{l(""),n(!1)},error:r,helperText:o})}),(0,i.jsx)("div",{className:A().contactRow,children:(0,i.jsx)(C.Z,{label:"Message",variant:"outlined",fullWidth:!0,required:!0,multiline:!0,rows:10,onChange:e=>{_(e.target.value),e.target.value.length>800?(D("Message can't be more than ".concat(800," characters")),k(!0)):(D(""),k(!1))},onClick:()=>{D(""),k(!1)},error:S,helperText:T})}),!P&&(0,i.jsx)("div",{className:A().contactRow,children:(0,i.jsx)(a.zx,{type:"primary",text:"Send",onClick:e,buttonProps:{disabled:F}})}),P&&(0,i.jsx)("div",{className:A().contactRow,children:(0,i.jsx)("div",{className:A().contactSuccess,children:(0,i.jsx)("p",{children:"We have received your message, thank you"})})}),I&&(0,i.jsx)("div",{className:A().contactRow,children:(0,i.jsx)("div",{className:A().contactFailed,children:(0,i.jsx)("p",{children:I})})})]})]}),(0,i.jsx)(a.$_,{})]})},D=s(1216),F=s(7397),M=s(5877),P=s(3366),R=s(7462),I=s(512),E=s(4780),H=s(8423),Z=s(8216),Y=s(1964),L=s(1657),W=s(948),z=s(1588),V=s(4867);function U(e){return(0,V.ZP)("MuiSwitch",e)}let q=(0,z.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),$=["className","color","edge","size","sx"],O=e=>{let{classes:t,edge:s,size:i,color:a,checked:r,disabled:n}=e,o={root:["root",s&&`edge${(0,Z.Z)(s)}`,`size${(0,Z.Z)(i)}`],switchBase:["switchBase",`color${(0,Z.Z)(a)}`,r&&"checked",n&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,E.Z)(o,U,t);return(0,R.Z)({},t,l)},J=(0,W.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:s}=e;return[t.root,s.edge&&t[`edge${(0,Z.Z)(s.edge)}`],t[`size${(0,Z.Z)(s.size)}`]]}})(({ownerState:e})=>(0,R.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===e.edge&&{marginLeft:-8},"end"===e.edge&&{marginRight:-8},"small"===e.size&&{width:40,height:24,padding:7,[`& .${q.thumb}`]:{width:16,height:16},[`& .${q.switchBase}`]:{padding:4,[`&.${q.checked}`]:{transform:"translateX(16px)"}}})),G=(0,W.ZP)(Y.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{let{ownerState:s}=e;return[t.switchBase,{[`& .${q.input}`]:t.input},"default"!==s.color&&t[`color${(0,Z.Z)(s.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${q.checked}`]:{transform:"translateX(20px)"},[`&.${q.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${q.checked} + .${q.track}`]:{opacity:.5},[`&.${q.disabled} + .${q.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${"light"===e.palette.mode?.12:.2}`},[`& .${q.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>(0,R.Z)({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,H.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${q.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,H.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${q.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${"light"===e.palette.mode?(0,H.$n)(e.palette[t.color].main,.62):(0,H._j)(e.palette[t.color].main,.55)}`}},[`&.${q.checked} + .${q.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),B=(0,W.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${"light"===e.palette.mode?.38:.3}`})),K=(0,W.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Q=d.forwardRef(function(e,t){let s=(0,L.Z)({props:e,name:"MuiSwitch"}),{className:a,color:r="primary",edge:n=!1,size:o="medium",sx:l}=s,c=(0,P.Z)(s,$),d=(0,R.Z)({},s,{color:r,edge:n,size:o}),u=O(d),h=(0,i.jsx)(K,{className:u.thumb,ownerState:d});return(0,i.jsxs)(J,{className:(0,I.Z)(u.root,a),sx:l,ownerState:d,children:[(0,i.jsx)(G,(0,R.Z)({type:"checkbox",icon:h,checkedIcon:h,ref:t,ownerState:d},c,{classes:(0,R.Z)({},u,{root:u.switchBase})})),(0,i.jsx)(B,{className:u.track,ownerState:d})]})});var X=s(3946),ee=s(7484),et=s.n(ee),es=s(1664),ei=s.n(es),ea=s(9332);let er=async(e,t)=>{let s="".concat(m.J,"/appointments?id=").concat(e),i=t?await (0,p.U2)(s,{Authorization:t}):await (0,p.U2)(s);return await (0,v.U)({res:i,errMsg:"Failed to get appointments"})};var en=s(5240),eo=s.n(en),el=()=>{let e=(0,f.useRouter)(),t=(0,ea.useSearchParams)(),{setLoading:s,setLoadingText:r}=(0,c.d)(),n=d.useRef(!1),[o,u]=d.useState("error"),[h,m]=d.useState(""),[p,v]=d.useState(!1),[x,j]=d.useState(),[b,w]=d.useState([]),[_,S]=d.useState(!1),[N,k]=d.useState("desc"),[A,T]=d.useState(""),[P,R]=d.useState([]),I=d.useCallback(async()=>{let t=(null==x?void 0:x.user.customerId)?x.user.customerId:null==x?void 0:x.user.tutorId;if(!t)return;s(!0);let i=await er(t,null==x?void 0:x.token);if(!i.ok){var a;let t=null===(a=i.error)||void 0===a?void 0:a.message;u("error"),m(null!=t?t:"Failed to fetch appointments"),v(!0),s(!1),(null==t?void 0:t.toLowerCase().includes("unauthorized"))&&(sessionStorage.removeItem(l.R1.user.session),e.push(g.Z.client.signIn));return}i.data&&w(i.data.appointments),s(!1)},[e,null==x?void 0:x.token,null==x?void 0:x.user.customerId,null==x?void 0:x.user.tutorId,s]);return d.useEffect(()=>{r("Fetching appointments");let e=sessionStorage.getItem(l.R1.user.session);e&&j(JSON.parse(e))},[r]),d.useEffect(()=>{!n.current&&x&&0===b.length&&(n.current=!0,I())},[x,b,I]),d.useEffect(()=>{let e=b;_||(e=b.filter(e=>et().unix(e.scheduledAt).add(e.durationMinutes,"minute").unix()>et()().unix())),A&&(e=e.filter(e=>{var t,s,i,a,r,n,o,l,c;return(null===(i=e.customer.users)||void 0===i?void 0:null===(s=i.firstName)||void 0===s?void 0:null===(t=s.toLowerCase())||void 0===t?void 0:t.includes(A.toLowerCase()))||(null===(n=e.customer.users)||void 0===n?void 0:null===(r=n.lastName)||void 0===r?void 0:null===(a=r.toLowerCase())||void 0===a?void 0:a.includes(A.toLowerCase()))||(null===(c=e.tutor.users)||void 0===c?void 0:null===(l=c.firstName)||void 0===l?void 0:null===(o=l.toLowerCase())||void 0===o?void 0:o.includes(A.toLowerCase()))||et().unix(e.scheduledAt).format("DD/MM/YYYY HH:mm").includes(A)})),"asc"===N?e.sort((e,t)=>e.scheduledAt>t.scheduledAt?1:-1):e.sort((e,t)=>e.scheduledAt<t.scheduledAt?1:-1),R(e)},[b,_,N,A]),d.useEffect(()=>{let s=t.get("redirect");s&&e.push(s)},[e,t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.FN,{type:o,message:h,display:p,setDisplay:v}),!(null==x?void 0:x.user.adminId)&&!(null==x?void 0:x.user.tutorId)&&!(null==x?void 0:x.user.customerId)&&(0,i.jsx)(a.Kb,{}),(0,i.jsx)(a.l2,{}),void 0!==x&&(0,i.jsx)(a.SF,{session:x,view:y.G.appointments}),(0,i.jsxs)("main",{className:eo().sessionView,children:[(0,i.jsxs)("div",{className:eo().sessionViewAppointmentsNav,children:[(0,i.jsx)("div",{className:eo().sessionViewAppointmentsNavCol,children:(0,i.jsx)("p",{children:"Include previous"})}),(0,i.jsx)("div",{className:eo().sessionViewAppointmentsNavCol,children:(0,i.jsx)(Q,{color:"default",checked:_,onChange:e=>{S(e.target.checked)}})})]}),(0,i.jsxs)("div",{className:eo().sessionViewAppointmentsNav,children:[(0,i.jsx)("div",{className:eo().sessionViewAppointmentsNavCol,style:{width:"100%"},children:(0,i.jsx)(C.Z,{style:{paddingLeft:"1rem",width:"100%"},variant:"standard",value:A,onChange:e=>T(e.target.value),placeholder:"Search by: date, time, student's name or tutor's name"})}),(0,i.jsx)("div",{className:eo().sessionViewAppointmentsNavCol,children:(0,i.jsx)(X.Z,{"aria-label":"toggle-filter",onClick:()=>T(""),children:A?(0,i.jsx)(F.Z,{}):(0,i.jsx)(D.Z,{})})})]}),(0,i.jsxs)("div",{className:eo().sessionViewAppointmentsNav,children:[(0,i.jsx)("div",{className:eo().sessionViewAppointmentsNavCol,children:"asc"===N?(0,i.jsxs)("p",{children:["Sorted in ",(0,i.jsx)("b",{children:"ascending"})," order"]}):(0,i.jsxs)("p",{children:["Sorted in ",(0,i.jsx)("b",{children:"descending"})," order"]})}),(0,i.jsx)("div",{className:eo().sessionViewAppointmentsNavCol,children:(0,i.jsx)(X.Z,{"aria-label":"sort",onClick:()=>{"asc"===N?(k("desc"),w(b.sort((e,t)=>e.scheduledAt<t.scheduledAt?1:-1))):(k("asc"),w(b.sort((e,t)=>e.scheduledAt>t.scheduledAt?1:-1)))},children:(0,i.jsx)(M.Z,{})})})]}),(null==x?void 0:x.user.tutorId)&&b.map(e=>{var t,s,i;return null!==(i=null==e?void 0:null===(s=e.payments)||void 0===s?void 0:null===(t=s.settlements)||void 0===t?void 0:t.amount)&&void 0!==i?i:0}).reduce((e,t)=>e+t,0)>0&&(0,i.jsx)("div",{className:eo().sessionViewAppointmentsNav,children:(0,i.jsx)("div",{className:eo().sessionViewAppointmentsNavCol,children:(0,i.jsxs)("p",{children:["Total earnings: \xa3",b.map(e=>{var t,s,i;return null!==(i=null==e?void 0:null===(s=e.payments)||void 0===s?void 0:null===(t=s.settlements)||void 0===t?void 0:t.amount)&&void 0!==i?i:0}).reduce((e,t)=>e+t,0)]})})}),0===P.length&&(0,i.jsxs)("div",{className:eo().sessionViewNoAppointmentsContainer,children:[(0,i.jsx)("h1",{children:"No sessions matching your criteria"}),(0,i.jsxs)("p",{children:["Book a session with one of our"," ",(0,i.jsx)(ei(),{href:g.Z.client.tutors,children:"tutors"})]})]}),P.map(e=>(0,i.jsx)(a.Wg,{appointment:e},e.id))]})]})};let ec=async e=>{let t="".concat(m.J,"/settlements"),s=e?await (0,p.U2)(t,{Authorization:e}):await (0,p.U2)(t);return await (0,v.U)({res:s,errMsg:"Failed to get settlements"})};var ed=s(8033),eu=s.n(ed),eh=()=>{let e=(0,f.useRouter)(),{setLoading:t,setLoadingText:s}=(0,c.d)(),r=d.useRef(!1),[n,o]=d.useState("error"),[u,h]=d.useState(""),[m,p]=d.useState(!1),[v,x]=d.useState(),[j,b]=d.useState([]),[w,_]=d.useState(j),[S,C]=d.useState(!1),[N,k]=d.useState(),A=d.useCallback(async()=>{if(!(null==v?void 0:v.user.adminId)){o("error"),h("Failed to retrieve admin id"),p(!0);return}s("Fetching settlements"),t(!0);let i=await ec(null==v?void 0:v.token);if(!i.ok){var a;let s=null===(a=i.error)||void 0===a?void 0:a.message;o("error"),h(null!=s?s:"Failed to fetch settlements"),p(!0),t(!1),(null==s?void 0:s.toLowerCase().includes("unauthorized"))&&(sessionStorage.removeItem(l.R1.user.session),e.push(g.Z.client.signIn));return}i.data&&b(i.data.settlements),t(!1)},[e,null==v?void 0:v.token,null==v?void 0:v.user.adminId,t,s]);return d.useEffect(()=>{s("Fetching settlements");let e=sessionStorage.getItem(l.R1.user.session);e&&x(JSON.parse(e))},[s]),d.useEffect(()=>{!r.current&&v&&0===j.length&&(r.current=!0,A())},[v,j,A]),d.useEffect(()=>{S?_(j.filter(e=>null===e.settlements)):_(j)},[j,S]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.FN,{type:n,message:u,display:m,setDisplay:p}),(0,i.jsx)(a.l2,{}),void 0!==v&&(0,i.jsx)(a.SF,{session:v,view:y.G.settlements}),(0,i.jsxs)("main",{className:eu().settlementView,children:[void 0!==v&&N&&(0,i.jsx)(a.TA,{session:v,activeSettlement:N,setActiveSettlement:k,handleFetchSettlements:A}),(0,i.jsxs)("div",{className:eu().settlementViewAppointmentsNav,children:[(0,i.jsx)("div",{className:eu().settlementViewAppointmentsNavCol,children:(0,i.jsx)("p",{children:"Show only unsettled"})}),(0,i.jsx)("div",{className:eu().settlementViewAppointmentsNavCol,children:(0,i.jsx)(Q,{color:"default",checked:S,onChange:e=>{C(e.target.checked)}})})]}),(0,i.jsxs)("table",{className:eu().settlementTable,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("p",{children:"Reference"})}),(0,i.jsx)("td",{children:(0,i.jsx)("p",{children:"Customer"})}),(0,i.jsx)("td",{children:(0,i.jsx)("p",{children:"Tutor"})}),(0,i.jsx)("td",{children:(0,i.jsx)("p",{children:"Scheduled at"})}),(0,i.jsx)("td",{children:(0,i.jsx)("p",{children:"Duration"})}),(0,i.jsx)("td",{children:(0,i.jsx)("p",{children:"Settled?"})}),(0,i.jsx)("td",{})]})}),(0,i.jsx)("tbody",{children:w.sort((e,t)=>e.appointment.scheduledAt<t.appointment.scheduledAt?1:-1).map(e=>(0,i.jsx)(a.eB,{settlement:e,setActiveSettlement:k},e.id))})]}),0===w.length&&(0,i.jsx)("h1",{children:"No Settlements found"})]})]})},em=s(8955);let ep=async e=>{let t="".concat(m.J,"/appointment");return await (0,v.U)({res:await (0,p.v_)(t,e),errMsg:"Failed to create an appointment"})},ev=async e=>{let t="".concat(m.J,"/appointment");return await (0,v.U)({res:await (0,p.gz)(t,e),errMsg:"Failed to update an appointment"})},ex=async e=>{let t="".concat(m.J,"/appointment?id=").concat(e);return await (0,v.U)({res:await (0,p.U2)(t),errMsg:"Failed to get an appointment"})},ey=async e=>{let t="".concat(m.J,"/appointment");return await (0,v.U)({res:await (0,p.Od)(t,{id:e}),errMsg:"Failed to remove an appointment"})},ej=async(e,t,s)=>{let i="".concat(m.J,"/availability?id=").concat(e,"&year=").concat(t,"&month=").concat(s+1);return await (0,v.U)({res:await (0,p.U2)(i),errMsg:"Failed to get availability"})},eg=async e=>{let t="".concat(m.J,"/payment");return await (0,v.U)({res:await (0,p.v_)(t,e),errMsg:"Failed to create payment"})};var ef=s(2914),eb=s(8993),ew=s.n(eb),e_=()=>{var e,t,s;let r=(0,f.useRouter)(),{setLoading:n,setLoadingText:o}=(0,c.d)(),[l,u]=(0,d.useState)({tutor:!1,availability:!1}),[h,m]=(0,d.useState)(""),[p,v]=(0,d.useState)({}),[x,y]=(0,d.useState)(),[j,g]=(0,d.useState)(""),[w,_]=(0,d.useState)(""),[S,C]=(0,d.useState)(),[N,k]=(0,d.useState)({}),[A,T]=(0,d.useState)(et()().year()),[D,F]=(0,d.useState)(et()().month()),[M,P]=(0,d.useState)(et()(0)),[R,I]=(0,d.useState)(!0),[E,H]=(0,d.useState)(!1),[Z,Y]=(0,d.useState)({start:et()(0),end:et()(0)}),[L,W]=(0,d.useState)(!1),[z,V]=(0,d.useState)(!1),[U,q]=(0,d.useState)("error"),[$,O]=(0,d.useState)(""),[J,G]=(0,d.useState)(!1),[B,K]=(0,d.useState)([]),Q=(0,d.useCallback)(async(e,t)=>{u(e=>({...e,availability:!0}));let s=await ej(h,e,t);if(!s.ok){var i;let e=null===(i=s.error)||void 0===i?void 0:i.message;q("error"),O(null!=e?e:"An error occurred"),G(!0),u(e=>({...e,availability:!1}));return}k(s.data.availability),u(e=>({...e,availability:!1}))},[h]),X=async function(e){var t,s,i;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o("Submitting appointment"),n(!0);let r=await ep({tutorId:h,customerEmail:e.customerEmail,customerFirstName:e.customerFirstName,customerLastName:e.customerLastName,subject:e.subject,scheduledAt:Z.start.unix(),durationMinutes:Z.end.diff(Z.start,"minute")});if(!r.ok){let e=null===(s=r.error)||void 0===s?void 0:s.message;q("error"),O(null!=e?e:"An error occurred"),n(!1),G(!0);return}return C(null!==(i=r.data.appointment)&&void 0!==i?i:void 0),a||V(!0),a||W(!1),n(!1),o(""),"".concat(null===(t=r.data.appointment)||void 0===t?void 0:t.id)},ee=async e=>{o("Registering payment"),n(!0);let t=await eg(e);if(!t.ok){q("error"),O(t.error&&t.error.message?t.error.message:"An error occurred"),n(!1),G(!0);return}V(!0),W(!1),n(!1),o("")},es=(0,d.useCallback)(async()=>{var e,t,s;u(e=>({...e,tutor:!0}));let i=await b(h);if(!i.ok){q("error"),O(null!==(s=null==i?void 0:null===(t=i.error)||void 0===t?void 0:t.message)&&void 0!==s?s:"An error occurred"),u(e=>({...e,tutor:!1})),G(!0);return}if(!(null===(e=i.data)||void 0===e?void 0:e.tutor)){q("error"),O("Tutor not found"),u(e=>({...e,tutor:!1})),G(!0);return}v(i.data.tutor),u(e=>({...e,tutor:!1}))},[h]),ea=(0,d.useCallback)(async()=>{if(r){let e=r.query;(null==e?void 0:e.i)?m(e.i):(null==e?void 0:e.id)&&m(e.id),e&&e.t&&y(e.t)}},[r]);return(0,d.useEffect)(()=>{o("")},[o]),(0,d.useEffect)(()=>{l.tutor||l.availability?n(!0):n(!1)},[l.tutor,l.availability,n]),(0,d.useEffect)(()=>{ea(),h&&(Q(A,D),es())},[r,h,D,A,Q,es,ea]),(0,d.useEffect)(()=>{var e,t;p&&K((null===(e=p.tutor)||void 0===e?void 0:e.tutorSubjects)?null===(t=p.tutor)||void 0===t?void 0:t.tutorSubjects.map(e=>(0,ef.t)(e.subject.name)):[])},[p]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l2,{}),(0,i.jsx)(a.FN,{type:U,message:$,display:J,setDisplay:G}),(0,i.jsxs)("main",{className:ew().calendar,children:[R&&N&&(0,i.jsx)(a.dW,{availability:N,activeYearNumber:A,setActiveYearNumber:T,activeMonthNumber:D,setActiveMonthNumber:F,handleFetchAvailability:Q,setActiveDate:P,setDisplaySlotsModal:H,setDisplayCalendar:I}),E&&(0,i.jsx)(a.lm,{tutorDetails:p,appointmentType:x,activeDate:M,availability:N,setActiveSlot:Y,setDisplaySlotsModal:H,setDisplayCalendar:I,setDisplayConfirm:W}),L&&(0,i.jsx)(a.zL,{activeDate:M,activeSlot:Z,tutorDetails:p,customerFirstName:j,setCustomerFirstName:g,subject:w,setSubject:_,subjects:B,appointment:S,showConfirmButton:!1,setDisplayConfirm:W,handleSubmitAppointment:X,handleSubmitPayment:ee,setDisplayCalendar:I}),z&&(0,i.jsxs)("div",{className:ew().calendar__confirmation,children:[(0,i.jsx)("h2",{children:"Thank you, that has been submitted"}),S&&(0,i.jsx)("h2",{children:"Appointment reference ".concat(S.id)}),(0,i.jsx)("p",{children:"Appointment: ".concat(j).concat(p.firstName?" with "+p.firstName:""," - ").concat(S?et().unix(S.scheduledAt).tz((0,em.Td)(null===(e=p.tutor)||void 0===e?void 0:e.country)).format("HH:mm ddd, DD MMM YYYY"):"--/--"," - ").concat(null!==(s=null==S?void 0:S.durationMinutes)&&void 0!==s?s:"--"," minutes - ").concat((0,em.Td)(null===(t=p.tutor)||void 0===t?void 0:t.country)," timezone")}),(0,i.jsx)("p",{children:"You will receive an email shortly containing your session details"}),(0,i.jsxs)("i",{children:["Haven't received an email?",(0,i.jsx)("br",{}),"Please check your junk folder and add info@123helpmestudy as a safe sender"]}),(0,i.jsxs)("p",{children:["Add this session to your"," ",(0,i.jsx)(ei(),{href:(()=>{var e,t;let s="https://calendar.google.com/calendar/u/0/r/eventedit"+"?text=Appointment:+".concat(j).concat(p.firstName?" with "+p.firstName:""," - ").concat(S?et().unix(S.scheduledAt).format("HH:mm ddd, DD MMM YYYY"):"--/--"," - ").concat(null!==(t=null==S?void 0:S.durationMinutes)&&void 0!==t?t:"--"," minutes")+"&dates=".concat(S?et().unix(S.scheduledAt).format("YYYYMMDDTHHmmss"):"","/").concat(S?et().unix(S.scheduledAt).add(S.durationMinutes,"minute").format("YYYYMMDDTHHmmss"):"","&ctz=").concat((0,em.Td)(null===(e=p.tutor)||void 0===e?void 0:e.country))+"&details=Subject:+".concat(w.split(" ").join("+"),"%0A%0A"),i="https://www.123helpmestudy.com/calendar/update?i=".concat(null==S?void 0:S.id),a=s+"To+update+the+appointment+details+visit+%3Ca+href%3D%22".concat(i,"%22%3E").concat(i,"%3C/a%3E%0A%0A"),r="https://www.123helpmestudy.com/calendar/delete?i=".concat(null==S?void 0:S.id);return a+"To+cancel+the+appointment+details+visit+%3Ca+href%3D%22".concat(r,"%22%3E").concat(r,"%3C/a%3E%0A%0A")+"&location=Remote"})(),target:"_blank",className:ew().calendarLink,children:"Google Calendar"})]})]})]})]})},eS=()=>{let e=(0,f.useRouter)(),{setLoading:t,setLoadingText:s}=(0,c.d)(),[r,n]=(0,d.useState)({tutor:!1,availability:!1,appointment:!1}),[o,l]=(0,d.useState)(""),[u,h]=(0,d.useState)({}),[m,p]=(0,d.useState)(""),[v,x]=(0,d.useState)(""),[y,j]=(0,d.useState)(""),[g,w]=(0,d.useState)(),[_,S]=(0,d.useState)({}),[C,N]=(0,d.useState)(et()().year()),[k,A]=(0,d.useState)(et()().month()),[T,D]=(0,d.useState)(et()(0)),[F,M]=(0,d.useState)(!0),[P,R]=(0,d.useState)(!1),[I,E]=(0,d.useState)({start:et()(0),end:et()(0)}),[H,Z]=(0,d.useState)(!1),[Y,L]=(0,d.useState)(!1),[W,z]=(0,d.useState)("error"),[V,U]=(0,d.useState)(""),[q,$]=(0,d.useState)(!1),[O,J]=(0,d.useState)([]),G=(0,d.useCallback)(async()=>{n(e=>({...e,appointment:!0}));let e=await ex(y);if(!e.ok){var t;let s=null===(t=e.error)||void 0===t?void 0:t.message;z("error"),U(null!=s?s:"An error occurred"),$(!0),n(e=>({...e,appointment:!1}));return}let s=e.data.appointment;s&&(w(s),l(s.tutorId)),n(e=>({...e,appointment:!1}))},[y]),B=(0,d.useCallback)(async(e,t)=>{n(e=>({...e,availability:!0}));let s=await ej(o,e,t);if(!s.ok){var i;let e=null===(i=s.error)||void 0===i?void 0:i.message;z("error"),U(null!=e?e:"An error occurred"),$(!0),n(e=>({...e,availability:!1}));return}S(s.data.availability),n(e=>({...e,availability:!1}))},[o]),K=async e=>{s("Updating appointment"),t(!0);let i=await ev({appointmentId:y,tutorId:o,customerEmail:e.customerEmail,customerFirstName:e.customerFirstName,customerLastName:e.customerLastName,subject:e.subject,scheduledAt:I.start.unix(),durationMinutes:I.end.diff(I.start,"minute")});if(!i.ok){z("error"),U(i.error&&i.error.message?i.error.message:"An error occurred"),t(!1),$(!0);return}return L(!0),Z(!1),t(!1),s(""),y},Q=(0,d.useCallback)(async()=>{var e,t,s;n(e=>({...e,tutor:!0}));let i=await b(o);if(!i.ok){z("error"),U(null!==(s=null==i?void 0:null===(t=i.error)||void 0===t?void 0:t.message)&&void 0!==s?s:"An error occurred"),$(!0),n(e=>({...e,tutor:!1}));return}if(!(null===(e=i.data)||void 0===e?void 0:e.tutor)){z("error"),U("Tutor not found"),$(!0),n(e=>({...e,tutor:!1}));return}h(i.data.tutor),n(e=>({...e,tutor:!1}))},[o]),X=(0,d.useCallback)(async()=>{var t,s,i,a,r,n,o;if(null===(t=e.query)||void 0===t?void 0:t.i){j(null!==(n=null===(r=e.query)||void 0===r?void 0:null===(a=r.i)||void 0===a?void 0:a.toString())&&void 0!==n?n:"");return}j(null!==(o=null===(i=e.query)||void 0===i?void 0:null===(s=i.id)||void 0===s?void 0:s.toString())&&void 0!==o?o:"")},[e]);return(0,d.useEffect)(()=>{s("")},[s]),(0,d.useEffect)(()=>{r.tutor||r.availability||r.appointment?t(!0):t(!1)},[r.tutor,r.availability,r.appointment,t]),(0,d.useEffect)(()=>{X(),y&&G(),o&&(B(C,k),Q())},[e,y,o,k,C,X,B,G,Q]),(0,d.useEffect)(()=>{var e,t;u&&J((null===(e=u.tutor)||void 0===e?void 0:e.tutorSubjects)?null===(t=u.tutor)||void 0===t?void 0:t.tutorSubjects.map(e=>(0,ef.t)(e.subject.name)):[])},[u]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l2,{}),(0,i.jsx)(a.FN,{type:W,message:V,display:q,setDisplay:$}),(0,i.jsxs)("main",{className:ew().calendar,children:[F&&_&&(0,i.jsx)(a.dW,{availability:_,activeYearNumber:C,setActiveYearNumber:N,activeMonthNumber:k,setActiveMonthNumber:A,handleFetchAvailability:B,setActiveDate:D,setDisplaySlotsModal:R,setDisplayCalendar:M}),P&&(0,i.jsx)(a.lm,{tutorDetails:u,appointmentType:(null==g?void 0:g.durationMinutes)===15?"ci":void 0,appointmentDuration:null==g?void 0:g.durationMinutes,activeDate:T,availability:_,setActiveSlot:E,setDisplaySlotsModal:R,setDisplayCalendar:M,setDisplayConfirm:Z}),H&&g&&(0,i.jsx)(a.zL,{activeDate:T,activeSlot:I,tutorDetails:u,customerFirstName:m,setCustomerFirstName:p,subject:v,setSubject:x,subjects:O,appointment:g,isUpdateRequest:!0,showConfirmButton:!0,setDisplayConfirm:Z,handleSubmitAppointment:K,setDisplayCalendar:M}),Y&&(0,i.jsxs)("div",{className:ew().calendar__confirmation,children:[(0,i.jsx)("h2",{children:"Thank you, that has been updated"}),g&&(0,i.jsxs)("h2",{children:["Appointment reference ",g.id]}),(0,i.jsx)("p",{children:"You will receive an email shortly containing your session details"}),(0,i.jsxs)("i",{children:["Haven't received an email?",(0,i.jsx)("br",{}),"Please check your junk folder and add info@123helpmestudy as a safe sender"]})]})]})]})},eC=s(7540),eN=s.n(eC),ek=()=>{var e;let t=(0,f.useRouter)(),s=async()=>{var e,t;l(!0);let s=await ex(h);if(!s.ok){let t=null===(e=s.error)||void 0===e?void 0:e.message;g("error"),w(null!=t?t:"An error occurred"),l(!1),S(!0);return}v(null!==(t=s.data.appointment)&&void 0!==t?t:void 0),l(!1)},r=async()=>{u("Deleting appointment"),l(!0);let e=await ey(h);if(!e.ok){g("error"),w(e.error&&e.error.message?e.error.message:"An error occurred"),l(!1),S(!0);return}y(!0),v(void 0),l(!1),u("")},n=async()=>{if(l(!0),t){let{query:e}=t;if(e){let{i:t,id:s}=e;t?m(t):s&&m(s)}}l(!1)},[o,l]=(0,d.useState)(!0),[c,u]=(0,d.useState)(""),[h,m]=(0,d.useState)(""),[p,v]=(0,d.useState)(),[x,y]=(0,d.useState)(!1),[j,g]=(0,d.useState)("error"),[b,w]=(0,d.useState)(""),[_,S]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{n(),h&&s()},[t,h]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l2,{}),(0,i.jsx)(a.FN,{type:j,message:b,display:_,setDisplay:S}),o&&(0,i.jsx)(a.gb,{text:c}),(0,i.jsxs)("main",{className:eN()["delete-calendar"],children:[!h&&(0,i.jsx)("div",{className:eN()["delete-calendar__get-container"],children:(0,i.jsx)("div",{className:eN()["delete-calendar__get-button"],onClick:async()=>{await n()},children:"Get appointment details"})}),p&&(0,i.jsxs)("div",{className:eN()["delete-calendar__details-container"],children:[(0,i.jsx)("div",{children:(0,i.jsx)("h2",{children:"Appointment details"})}),(0,i.jsxs)("div",{className:eN()["delete-calendar__row"],children:[(0,i.jsx)("p",{children:"Date"}),(0,i.jsx)("p",{children:et().unix(p.scheduledAt).format("DD/MM/YYYY")})]}),(0,i.jsxs)("div",{className:eN()["delete-calendar__row"],children:[(0,i.jsx)("p",{children:"From"}),(0,i.jsx)("p",{children:et().unix(p.scheduledAt).format("HH:mm")})]}),(0,i.jsxs)("div",{className:eN()["delete-calendar__row"],children:[(0,i.jsx)("p",{children:"To"}),(0,i.jsx)("p",{children:et().unix(p.scheduledAt).add(p.durationMinutes,"minute").format("HH:mm")})]}),(0,i.jsxs)("div",{className:eN()["delete-calendar__row"],children:[(0,i.jsx)("p",{children:"Duration"}),(0,i.jsxs)("p",{children:[p.durationMinutes," minutes"]})]}),(0,i.jsxs)("div",{className:eN()["delete-calendar__row"],children:[(0,i.jsx)("p",{children:"Subject"}),(0,i.jsx)("p",{children:(0,ef.t)(p.subject.name)})]}),(0,i.jsx)("div",{style:{marginTop:"2rem"},children:(0,i.jsx)("h2",{children:"Cancel appointment with ".concat(null===(e=p.tutor.users)||void 0===e?void 0:e.firstName,"?")})}),(0,i.jsx)(a.zx,{type:"primary",text:"Confirm",onClick:r})]}),x&&(0,i.jsx)("div",{className:eN()["delete-calendar__confirmation"],children:(0,i.jsx)("h2",{children:"Thank you, that has been removed"})})]})]})};let eA={"ci-marcel":"/redirect?q=/calendar?i=5a2e65a4-13bc-40c2-adb6-e3dc912bd8ef&code=375e7c8d-83bc-4587-901d-c902a94eff8e&t=ci"};var eT=s(4054),eD=s(3841),eF=s(5819),eM=s(7846),eP=s(5675),eR=s.n(eP),eI=["Accounting","Art and Design","Bengali","Biology","Business","Chemistry","Chinese (Mandarin)","Citizenship Studies","Computer programming in C","Computer programming in Python","Computer Science and IT","Dance","Design and Technology","Drama","Economics","Engineering","English as a Foreign Language","English Language","English Literature","Entry Level Certificates (ELC)","EPQ","Entertainment Technology","Food","French","Geography","German","Hebrew (Biblical)","Hebrew (Modern)","History","History of Art","ICT","Italian","Languages","Law","Mathematics","Media Studies","Music","Panjabi","Performing Arts","Philosophy","Physical Education","Physics","Polish","Politics","Programmes","Projects","Psychology","Personal and Social Education","Religious Studies","Science","Sociology","Software Development","Spanish","Statistics","Tech-levels","Technical Awards","Unit Award Scheme","Urdu"],eE=s(1165),eH=s.n(eE),eZ=()=>{let e=(0,f.useRouter)(),[t,s]=(0,d.useState)("");return(0,d.useEffect)(()=>{if(Object.keys(eA).filter(t=>t===e.query.rt).length>0){var t;let s=null===(t=e.query.rt)||void 0===t?void 0:t.toString();s&&e.push(eA[s])}else e.query.redirect&&"/"===e.query.redirect.toString().substring(0,1)&&e.push("".concat(e.query.redirect.toString()))},[e]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l2,{}),(0,i.jsxs)("main",{className:eH().home,children:[(0,i.jsxs)("div",{className:eH().home__title,children:[(0,i.jsx)("div",{className:eH()["home__title-header-container"],children:(0,i.jsx)("h1",{className:eH()["home__title-header"],children:"123 Help Me Study"})}),(0,i.jsx)("div",{className:eH()["home__title-background-container"],children:(0,i.jsx)(eR(),{src:"https://ik.imagekit.io/123helpmestudy/uc?export=view&id=1MObN2awVJFHbwsOlSjY3GvTt50wVM5up",alt:"background",className:eH()["home__title-background"],width:0,height:0})})]}),(0,i.jsx)("div",{className:eH()["home__logo-container"],children:(0,i.jsx)(a.TR,{width:100,height:100})}),(0,i.jsx)("div",{className:eH().home__slogan,children:'"Your future success is our tutors\' priority"'}),(0,i.jsxs)("div",{className:eH().homeCallToAction,children:[(0,i.jsx)("h2",{className:eH().homeCallToAction,children:"Find a dedicated tutor in a matter of seconds"}),(0,i.jsxs)("p",{className:eH().homeCallToAction,children:["We have created ",(0,i.jsx)("i",{children:"123 Help Me Study"})," to assist students, and parents, in finding tutors quickly, and easily. Our platform can be used to book in sessions with a tutor, by using their interactive calendar to view availability, or you can communicate with a potential tutor to see if they will be the right fit for you."]})]}),(0,i.jsxs)("div",{className:eH().homeSubjectContainer,children:[(0,i.jsx)("h3",{children:"Pick a subject"}),(0,i.jsxs)(eT.Z,{fullWidth:!0,children:[(0,i.jsx)(eD.Z,{children:"Subject"}),(0,i.jsx)(eM.Z,{value:t,label:"Subject",onChange:t=>{s(t.target.value),setTimeout(()=>{e.push("/tutors?q=".concat(t.target.value))},1e3)},children:eI.map(e=>(0,i.jsx)(eF.Z,{value:e.toLowerCase(),children:e},e))})]})]}),(0,i.jsx)("div",{className:eH().homeTrustpilotContainer,children:(0,i.jsx)(a.c1,{})})]}),(0,i.jsx)(a.$_,{})]})},eY=s(1824),eL=s.n(eY),eW=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l2,{}),(0,i.jsxs)("main",{className:eL().privacyPolicy,children:[(0,i.jsx)("h2",{children:"Our Privacy Policy Notice"}),(0,i.jsx)("p",{children:"Last updated: 07/09/2019"}),(0,i.jsx)("div",{className:eL().privacyPolicyTextContainer,children:(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"The policy:"})," This privacy policy notice is served by"," ",(0,i.jsx)("b",{children:"123 Help Me Study"})," under this website. The purpose of this policy is to explain to you how we control, process, handle and protect your personal information through the business and while you browse or use this website. If you do not agree to the following policy you may wish to cease viewing / using this website, and or refrain from submitting your personal data to us."]})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"Policy key definitions:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:['"I", "our", "us", or "we" refer to the business,'," ",(0,i.jsx)("b",{children:"123 Help Me Study"}),"."]}),(0,i.jsx)("li",{children:'"you", "your", "the user" refer to the person(s) using this website.'}),(0,i.jsx)("li",{children:"GDPR means General Data Protection Act."}),(0,i.jsx)("li",{children:"PECR means Privacy & Electronic Communications Regulation."}),(0,i.jsx)("li",{children:"ICO means Information Commissioner's Office."}),(0,i.jsx)("li",{children:"Cookies mean small files stored on a users computer or device."})]})]}),(0,i.jsx)("h3",{children:"Key principles of GDPR:"}),(0,i.jsx)("div",{className:eL().privacyPolicyTextContainer,children:(0,i.jsx)("p",{children:"Our privacy policy embodies the following key principles; (a) Lawfulness, fairness and transparency, (b) Purpose limitation, (c) Data minimisation, (d) Accuracy, (e) Storage limitation, (f) Integrity and confidence, (g) Accountability."})}),(0,i.jsx)("h3",{children:"Processing of your personal data"}),(0,i.jsx)("div",{className:eL().privacyPolicyTextContainer,children:(0,i.jsx)("p",{children:"Under the GDPR (General Data Protection Regulation) we control and / or process any personal information about you electronically with your consent for the purposes of delivering a service to you. It is the users right to request this data to be deleted, and should you wish proof, for us to provide evidence there of."})}),(0,i.jsx)("div",{children:(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("b",{children:"Lawful basis:"})," Consent"]})})}),(0,i.jsxs)("div",{className:eL().privacyPolicyTextContainer,children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Where our purpose for processing is:"})," To offer a service to you; To deliver marketing material to you."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Which is necessary because:"})," To provide updates on current products and / or services we provide."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"We process your information in the following ways:"})," We process your email through our current email provider."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Data retention period:"})," We will continue to process your information under this basis until you withdraw consent or it is determined your consent no longer exists."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Sharing your information:"})," We do not share your information with third parties."]})]}),(0,i.jsx)("div",{children:(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("b",{children:"Lawful basis:"})," Contract"]})})}),(0,i.jsxs)("div",{className:eL().privacyPolicyTextContainer,children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Where our purpose for processing is:"}),"To deliver a service to you."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Which is necessary because:"})," We provide a personalised service; Maintain a working relationship with you; Provide dedicated feedback between you and us."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"We process your information in the following ways:"})," We process your email and profile details securely through our website."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Data retention period:"})," We will continue to process your information under this basis until you withdraw consent or it is determined your consent no longer exists."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Sharing your information:"})," We do not share your information with third parties."]}),(0,i.jsx)("p",{children:"If, as determined by us, the lawful basis upon which we process your personal information changes, we will notify you about the change and any new lawful basis to be used if required. We shall stop processing your personal information if the lawful basis used is no longer relevant."})]}),(0,i.jsx)("h3",{children:"Your individual rights"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Under the GDPR your rights are as follows:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"the right to be informed;"}),(0,i.jsx)("li",{children:"the right of access;"}),(0,i.jsx)("li",{children:"the right to rectification;"}),(0,i.jsx)("li",{children:"the right to erasure;"}),(0,i.jsx)("li",{children:"the right to restrict processing;"}),(0,i.jsx)("li",{children:"the right to data portability;"}),(0,i.jsx)("li",{children:"the right to object; and"}),(0,i.jsx)("li",{children:"the right not to be subject to automated decision-making including profiling."})]}),(0,i.jsxs)("p",{children:["You can read more about",(0,i.jsx)("a",{href:"https://ico.org.uk/for-organisations/guide-to-the-general-data-protection-regulation-gdpr/individual-rights/",target:"_blank",rel:"noreferrer",children:"your rights in details here"}),"."]})]}),(0,i.jsxs)("div",{className:eL().privacyPolicyTextContainer,children:[(0,i.jsxs)("p",{children:["You also have the right to complain to",(0,i.jsx)("b",{children:"123 Help Me Study"})," if you feel there is a problem with the way we are handling your data. You also have the right to"," ",(0,i.jsx)("b",{children:"withdraw consent"}),"for us to store your data, and it is our responsibility to comply with said request in a timely manner."]}),(0,i.jsx)("p",{children:"We handle subject access requests in accordance with the GDPR."})]}),(0,i.jsx)("h3",{children:"Internet Cookies"}),(0,i.jsxs)("div",{className:eL().privacyPolicyTextContainer,children:[(0,i.jsx)("p",{children:"We use cookies on this website to provide you with a better user experience. We do this by placing a small text file on your device / computer hard drive to track how you use the website, to record or log whether you have seen particular messages that we display, to keep you logged into the website where applicable, to display relevant adverts or content, referred you to a third party website."}),(0,i.jsx)("p",{children:"Some cookies are required to enjoy and use the full functionality of this website."}),(0,i.jsx)("p",{children:"We use a cookie control system which allows you to accept the use of cookies, and control which cookies are saved to your device / computer. Some cookies will be saved for specific time periods, where others may last indefinitely. Your web browser should provide you with the controls to manage and delete cookies from your device, please see your web browser options."})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Cookies that we use are;"}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)("b",{children:"Google Analytics Tracking Cookie"})})})]}),(0,i.jsx)("h3",{children:"Data security and protection"}),(0,i.jsxs)("div",{className:eL().privacyPolicyTextContainer,children:[(0,i.jsx)("p",{children:"We ensure the security of any personal information we hold by using secure data storage technologies and precise procedures in how we store, access and manage that information. Our methods meet the GDPR compliance requirement."}),(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"Fair & Transparent Privacy Explained"})}),(0,i.jsx)("p",{children:"We have provided some further explanations about user privacy and the way we use this website to help promote a transparent and honest user privacy methodology."}),(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"Sponsored links, affiliate tracking & commissions"})}),(0,i.jsx)("p",{children:"Our website does not contain any sponsored links, affiliate tracking and / or commissions."}),(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"Email marketing messages & subscription"})}),(0,i.jsxs)("p",{children:['Under the GDPR we use the consent lawful basis for anyone subscribing to our newsletter or marketing mailing list. We only collect certain data about you, as detailed in the "Processing of your personal data" above. Any email marketing messages we send are done so through an internal'," ",(0,i.jsx)("b",{children:"EMS"}),", email marketing service."]}),(0,i.jsx)("p",{children:"Email marketing messages that we send may contain tracked clickable links or similar server technologies in order to track subscriber activity within email marketing messages. Where used, such marketing messages may record a range of data such as; times, dates, IP addresses, opens, clicks, forwards, geographic and demographic data. Such data, within its limitations will show the activity each subscriber made for that email campaign."}),(0,i.jsx)("p",{children:"Any email marketing messages we send are in accordance with the GDPR and the PECR. We provide you with an easy method to withdraw your consent (unsubscribe) or manage your preferences / the information we hold about you at any time. See any marketing messages for instructions on how to unsubscribe or manage your preferences."}),(0,i.jsx)("p",{children:"Our EMS system only stores your email address if you have not sought a contract with us."})]})]}),(0,i.jsx)(a.$_,{})]}),ez=s(2036),eV=s.n(ez),eU=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l2,{}),(0,i.jsxs)("main",{className:eV().termsAndConditions,children:[(0,i.jsx)("h2",{children:"Terms and Conditions"}),(0,i.jsx)("p",{children:"Last updated: 07/09/2019"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"Page key definitions"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:['"I", "our", "us", or "we" refer to the business,'," ",(0,i.jsx)("b",{children:"123 Help Me Study"}),"."]}),(0,i.jsx)("li",{children:'"you", "your", "the user" refer to the person(s) using this website.'}),(0,i.jsx)("li",{children:"Service / Services refer to your interaction with us / our products."})]})]}),(0,i.jsxs)("div",{className:eV().termsAndConditionsTextContainer,children:[(0,i.jsxs)("p",{children:['Please read these Terms and Conditions ("Terms", "Terms and Conditions") carefully before using the',(0,i.jsx)("b",{children:'"123 Help Me Study"'}),' website and our services (the "Service") operated by 123 Help Me Study and its members.']}),(0,i.jsx)("p",{children:"Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms. These Terms apply to all visitors, users and others who access or use the Service."}),(0,i.jsx)("p",{children:"By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the terms then you may not access the Service."})]}),(0,i.jsx)("h3",{children:"Purchases"}),(0,i.jsx)("div",{className:eV().termsAndConditionsTextContainer,children:(0,i.jsx)("p",{children:'If you wish to purchase any product or service made available through the Service ("Purchase"), you may be asked to supply certain information relevant to your Purchase including, without limitation:'})}),(0,i.jsx)("div",{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Your first and last name;"}),(0,i.jsx)("li",{children:"Your contact information (e.g. email address, phone &/ mobile number);"}),(0,i.jsx)("li",{children:"Your address;"}),(0,i.jsx)("li",{children:"Your payment details;"}),(0,i.jsx)("li",{children:"Your image;"})]})}),(0,i.jsx)("h3",{children:"Payments"}),(0,i.jsx)("div",{className:eV().termsAndConditionsTextContainer,children:(0,i.jsx)("p",{children:'Payments taken through this site are done by a third-party payment provider named "PayPal". While the company endevours to provide a smooth service, interruptions to the payment processing mechanism are out of our control and the company will not be liable for damages incurred by you.'})}),(0,i.jsx)("h3",{children:"Subscriptions"}),(0,i.jsx)("div",{className:eV().termsAndConditionsTextContainer,children:(0,i.jsx)("p",{children:'Some parts of the Service are billed on a subscription basis ("Subscription(s)"). You will be billed in advance on a recurring basis as defined in the product and / or service description.'})}),(0,i.jsx)("h3",{children:"Cancellations"}),(0,i.jsx)("div",{className:eV().termsAndConditionsTextContainer,children:(0,i.jsx)("p",{children:"We acknowledge that our products and / or services may not be suitable to you for an indefinite period of time. We acknowledge that should said products and / or services no longer be required, the user is required to give 30 days' written notice of cancellation via email or to use the appropriate channel to submit a cancellation request."})}),(0,i.jsx)("h3",{children:"Refunds"}),(0,i.jsx)("div",{className:eV().termsAndConditionsTextContainer,children:(0,i.jsxs)("p",{children:["From time to time the services rendered by the company may not be satisfactory to you. In the event that a refund is requested, the refund may be subject to fees. These fees are related to (but are not limited): administrative expenses, site maintenance overhead, payment processing costs. To see more details on payment processing costs please visit"," ",(0,i.jsx)(ei(),{href:"https://www.paypal.com/uk/cshelp/article/how-do-i-issue-a-refund-help101",children:'"Stripe"\'s refund fees'})," ","section."]})}),(0,i.jsx)("h3",{children:"Content"}),(0,i.jsx)("div",{className:eV().termsAndConditionsTextContainer,children:(0,i.jsx)("p",{children:'Our Service allows you to post, link, store, share and otherwise make available certain information, text, graphics, videos, or other material ("Content"). You are responsible for the verification that said material is in our domain. We reserve the right to amend, remove or claim any content generated by you.'})}),(0,i.jsx)("h3",{children:"Links To Other Web Sites"}),(0,i.jsxs)("div",{className:eV().termsAndConditionsTextContainer,children:[(0,i.jsx)("p",{children:"Our Service may contain links to third-party web sites or services that are not owned or controlled by us."}),(0,i.jsx)("p",{children:"We have no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party web sites or services. You further acknowledge and agree that we shall not be responsible or be liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with use of or reliance on any such content, goods or services available on or through any such web sites or services."})]}),(0,i.jsx)("h3",{children:"Changes"}),(0,i.jsx)("div",{className:eV().termsAndConditionsTextContainer,children:(0,i.jsx)("p",{children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material we will try to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."})}),(0,i.jsx)("h3",{children:"Other"}),(0,i.jsx)("div",{className:eV().termsAndConditionsTextContainer,children:(0,i.jsx)("p",{children:'We endeavour to provide products and / or services of high quality. We will maintain high quality standards at all times. Should you find these standards to be insufficient, we request that you open a dialogue with our company, as we endeavour to provide products and / or services that suit your needs. Please see the "contact us" section below.'})}),(0,i.jsx)("h3",{children:"Contact Us"}),(0,i.jsx)("div",{className:eV().termsAndConditionsTextContainer,children:(0,i.jsxs)("p",{children:["If you have any questions about these Terms and conditions, please"," ",(0,i.jsx)(ei(),{href:"mailto:info@123helpmestudy.com?Subject=T&Cs",children:"contact us"}),"."]})})]}),(0,i.jsx)(a.$_,{})]});let eq=async()=>{let e="".concat(m.J,"/tutors"),t=await (0,p.U2)(e);return t.ok?{ok:!0,data:await t.json()}:{ok:!1,error:await t.json()}};var e$=s(2534),eO=s.n(e$),eJ=()=>{var e;let{setLoading:t,setLoadingText:s}=(0,c.d)(),r=(0,f.useRouter)(),n=(0,d.useCallback)(async()=>{t(!0);let e=await eq();if(!e.ok){h(e.error&&e.error.message?e.error.message:"Failed to get tutors"),p(!0),t(!1);return}let{data:s}=e;(null==s?void 0:s.tutors)&&l(s.tutors),t(!1)},[t]),[o,l]=(0,d.useState)([]),[u,h]=(0,d.useState)(""),[m,p]=(0,d.useState)(!1),[v,x]=(0,d.useState)(void 0),[y,j]=(0,d.useState)(!1),[g,b]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{s("Fetching tutors"),n()},[s,n]),(0,d.useEffect)(()=>{var e;o&&(null===(e=r.query)||void 0===e?void 0:e.t)&&(x(o.find(e=>{var t;return(null===(t=e.tutor)||void 0===t?void 0:t.id)===r.query.t})),j(!0))},[o,null===(e=r.query)||void 0===e?void 0:e.t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l2,{}),(0,i.jsx)(a.FN,{type:"error",message:u,display:m,setDisplay:p}),(0,i.jsxs)("main",{className:eO().tutors,children:[o.length>0&&(0,i.jsx)("div",{className:eO()["tutors__list-container"],children:o.map(e=>{var t;return(0,i.jsx)(a.F1,{tutorDetails:e,setActiveTutorDetails:x,setShowTutorDetails:j,setShowMessageTutor:b},null===(t=e.tutor)||void 0===t?void 0:t.id)})}),y&&v&&(0,i.jsx)(a.AK,{tutorDetails:v,setActiveTutorDetails:x,setShowTutorDetails:j}),g&&v&&(0,i.jsx)(a.DW,{tutorDetails:v,setActiveTutorDetails:x,setShowMessageTutor:b})]})]})}},1883:function(e){e.exports={"four04-parent":"__404_four04-parent__vFoPO",four04:"__404_four04__j0ryd",four04__container:"__404_four04__container__1Vh8r"}},5240:function(e){e.exports={sessionView:"Appointments_sessionView__rPUEg",sessionViewAppointmentsNav:"Appointments_sessionViewAppointmentsNav__D7Y4z",sessionViewAppointmentsNavCol:"Appointments_sessionViewAppointmentsNavCol__hbB9A",sessionViewNoAppointmentsContainer:"Appointments_sessionViewNoAppointmentsContainer__qZ2rn"}},8033:function(e){e.exports={settlementView:"Settlements_settlementView__YyvUL",settlementTable:"Settlements_settlementTable__8d8T2",settlementViewAppointmentsNav:"Settlements_settlementViewAppointmentsNav__fD8zC",settlementViewAppointmentsNavCol:"Settlements_settlementViewAppointmentsNavCol__aQCzH"}},8993:function(e){e.exports={calendar:"Calendar_calendar__M_fZ8",calendar__confirmation:"Calendar_calendar__confirmation__Zn2xb","calendar__get-container":"Calendar_calendar__get-container__usQ5u","calendar__get-button":"Calendar_calendar__get-button__ThpW1",calendarLink:"Calendar_calendarLink__4CKu_"}},7540:function(e){e.exports={"delete-calendar":"DeleteCalendar_delete-calendar__5uRO_","delete-calendar__confirmation":"DeleteCalendar_delete-calendar__confirmation__3XLGX","delete-calendar__get-container":"DeleteCalendar_delete-calendar__get-container__sYOGm","delete-calendar__get-button":"DeleteCalendar_delete-calendar__get-button__6NsDe","delete-calendar__details-container":"DeleteCalendar_delete-calendar__details-container__DdwFt","delete-calendar__row":"DeleteCalendar_delete-calendar__row__uGTRt","calendar-confirmation__confirm":"DeleteCalendar_calendar-confirmation__confirm__d9iTf"}},2872:function(e){e.exports={contact:"Contact_contact__XRz1r",contactHeader:"Contact_contactHeader__QBqai",contactRow:"Contact_contactRow__klUaM",contactFirstColumn:"Contact_contactFirstColumn__xme4y",contactSecondColumn:"Contact_contactSecondColumn__1yiuN",contactText:"Contact_contactText__LTLvV",contactSuccess:"Contact_contactSuccess__ko1uC",contactFailed:"Contact_contactFailed__twzFD"}},1165:function(e){e.exports={home:"Home_home__x0St9",home__title:"Home_home__title__Pxy3Q","home__title-header-container":"Home_home__title-header-container__nbshR","home__title-header":"Home_home__title-header__7OJyA","home__title-background":"Home_home__title-background__gJWzH","home__logo-container":"Home_home__logo-container__dzZe_",home__slogan:"Home_home__slogan__8B0rN",homeCallToAction:"Home_homeCallToAction__BaXbL",homeSubjectContainer:"Home_homeSubjectContainer__VKwjN",homeTrustpilotContainer:"Home_homeTrustpilotContainer__O8Lom"}},1824:function(e){e.exports={privacyPolicy:"PrivacyPolicy_privacyPolicy__CvB0d",privacyPolicyTextContainer:"PrivacyPolicy_privacyPolicyTextContainer__TYrVJ"}},2036:function(e){e.exports={termsAndConditions:"TermsAndConditions_termsAndConditions__nJbjb",termsAndConditionsTextContainer:"TermsAndConditions_termsAndConditionsTextContainer__ggQC9"}},2534:function(e){e.exports={tutors:"Tutors_tutors__WLRO3"}}}]);