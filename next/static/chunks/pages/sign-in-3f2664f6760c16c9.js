(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{6821:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return t(9680)}])},9680:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var s=t(5893),a=t(9008),i=t.n(a),r=t(7294),o=t(1163),u=t(1903),c=t(8791),l=t(8903),d=t(1708);let h=async e=>{let n="".concat(l.JW,"/auth"),t=await (0,d.v_)(n,{email:e});if(t&&t.ok)return{ok:!0,data:await t.json()};try{return{ok:!1,error:t?await t.json():{message:"Failed to request a code"}}}catch(e){return{ok:!1,error:{message:"Failed to request a code"}}}},g=async e=>{let{email:n,code:t}=e,s="".concat(l.JW,"/auth"),a=await (0,d.gz)(s,{email:n,code:t},{});if(a&&a.ok)return{ok:!0,data:await a.json()};try{return{ok:!1,error:a?await a.json():{message:"Failed to authenticate"}}}catch(e){return{ok:!1,error:{message:"Failed to authenticate"}}}};var m=t(5829),f=t.n(m),x=t(5848);let j=()=>{let e=(0,o.useRouter)(),n=async()=>{i(!0);let e=await h(C);if(!e.ok){y(e.error&&e.error.message?e.error.message:"Could not request code"),p(!0),i(!1);return}j(!1),I(!0),i(!1)},t=async()=>{i(!0),d("Authenticating");let n=await g({email:C,code:parseInt(w)});if(!n.ok){F(n.error&&n.error.message?n.error.message:"Could not request"),q(!0),i(!1);return}n.data&&sessionStorage.setItem(x.R1.user.session,JSON.stringify(n.data)),i(!1),e.push("/account")},[a,i]=(0,r.useState)(!1),[l,d]=(0,r.useState)("Requesting code"),[m,j]=(0,r.useState)(!0),[C,_]=(0,r.useState)(""),[S,p]=(0,r.useState)(!1),[v,y]=(0,r.useState)(""),[k,I]=(0,r.useState)(!1),[w,b]=(0,r.useState)(""),[N,q]=(0,r.useState)(!1),[E,F]=(0,r.useState)("");return(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)(c.gb,{text:l}),(0,s.jsx)(c.l2,{}),(0,s.jsx)("main",{className:f().signIn,children:(0,s.jsxs)("div",{className:f().signInContainer,children:[m&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:f().signInContainerHeader,children:"Requested an access code"}),(0,s.jsx)("p",{children:"You don't have an active session. To sign in you will need to enter your email address to request an access code for this session."}),(0,s.jsx)("p",{children:"Once you are signed in you will be able to view all your sessions."}),(0,s.jsx)(u.Z,{label:"Email",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>{_(e.target.value)},onClick:()=>{y(""),p(!1)},error:S,helperText:v}),(0,s.jsx)("div",{className:f().signInConfirm,onClick:n,children:"Request code"})]}),k&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:f().signInContainerHeader,children:"You have requested an access code"}),(0,s.jsx)("p",{children:"This will briefly arrive in your emails. Please also check your spam folder for the code and then mark us as a trusted sender if you can't see the email in your inbox."}),(0,s.jsx)(u.Z,{label:"Code",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>{b(e.target.value)},onClick:()=>{F(""),q(!1)},error:N,helperText:E}),(0,s.jsx)("div",{className:f().signInConfirm,onClick:t,children:"Sign in"})]})]})})]})},C=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"Sign in | 123 Help Me Study"}),(0,s.jsx)("meta",{name:"description",content:"Maths online tutors, based in Southampton. We help students, in Mathematics, Combined Science, Chemistry, Physics and Biology, through our online platform. We cover GCSE maths, GCSE combined science, AS maths and A Level mathematics. 123 Help Me Study (Founded in August 2019) is a group of online Maths tutors based in Southampton, United Kingdom."}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(j,{})]});var _=C},5829:function(e){e.exports={signIn:"SignIn_signIn__o4ilC",signInContainer:"SignIn_signInContainer__jRDvQ",signInContainerHeader:"SignIn_signInContainerHeader__gehg_",signInConfirm:"SignIn_signInConfirm__auB_z"}},9008:function(e,n,t){e.exports=t(3121)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6821)}),_N_E=e.O()}]);